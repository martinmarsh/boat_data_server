(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(17),i=a.n(o),r=a(26),c=a(27),l=a(30),u=a(28),h=a(31),d=(a(79),a(80),a(62)),m=a.n(d),p=a(73),f=a(68),g=a.n(f),v=a(29),C=a.n(v),E=a(32),S=a.n(E),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleCTSSliderChange=function(e,t){console.log(t),a.setState({cts_slider_value:t}),a.conditionSetCTS(3.6*(t-50)),a.postCts()},a.state={error:null,isLoaded:!1,isDialogOpen:!1,cts:0,heading:0,rose:0,cts_slider_value:50},a.set_cts=0,a.displayed={rose:-1,cts:-1,heading:-1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getCompass",value:function(){var e=this;fetch("http://localhost:8079/compass").then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,cts:t.course.cts,heading:t.course.heading})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"postCts",value:function(){var e=this;fetch("http://localhost:8079/compass",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({course:{cts:this.set_cts}})}).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,cts:t.course.cts,heading:t.course.heading})})}},{key:"updateSVGCompass",value:function(){if(console.log(this.state.cts,this.displayed.cts),this.state.heading!==this.displayed.heading){var e=document.getElementById("compass_heading");e&&(console.log(e),e.setAttribute("transform","rotate("+this.state.heading+")"),e.setAttribute("transform-origin","50% 50%"),this.displayed.heading=this.state.heading)}if(this.set_cts!==this.displayed.cts){var t=document.getElementById("compass_course");t&&(console.log(t),t.setAttribute("transform","rotate("+this.set_cts+")"),t.setAttribute("transform-origin","50% 50%"),this.displayed.cts=this.state.cts)}if(this.state.rose!==this.displayed.rose){var a=document.getElementById("compass_rose");a&&(console.log(a),a.setAttribute("transform","rotate("+this.state.rose+")"),a.setAttribute("transform-origin","50% 50%"),this.displayed.rose=this.state.rose)}}},{key:"componentDidMount",value:function(){var e=this;setInterval(function(){e.getCompass()},1e3)}},{key:"conditionSetCTS",value:function(e){e<0&&(e=360+e),e>360&&(e-=360),this.set_cts=Math.round(e)}},{key:"setCTS",value:function(e){this.conditionSetCTS(e);var t=Math.round(this.set_cts/3.6+50);t<0&&(t=100+t),t>100&&(t-=100),this.setState({cts_slider_value:t})}},{key:"render",value:function(){var e=this;this.updateSVGCompass();var t=this.state,a=t.cts_slider_value,n=t.cts,o=this.state.heading;return o=Math.round(o),s.a.createElement(S.a,{container:!0,spacing:24},s.a.createElement(S.a,{item:!0,xs:12,sm:7},s.a.createElement(C.a,{className:"App-Compass"},s.a.createElement(p.a,{src:m.a})),s.a.createElement("paper",null,s.a.createElement("h3",null,"Heading ",s.a.createElement("b",null,o)," M \xa0\xa0 \xa0CTS ",s.a.createElement("b",null,n)," M"),s.a.createElement("h4",null,"Set Course to Steer \xa0\xa0\xa0 ",s.a.createElement("a",{href:"#",onClick:function(){e.setCTS(e.set_cts-5),e.postCts()}},"-5"),"\xa0\xa0\xa0 ",s.a.createElement("a",{href:"#",onClick:function(){e.setCTS(e.set_cts+5),e.postCts()}},"+5"),"\xa0\xa0\xa0or use slider:"),s.a.createElement(g.a,{value:a,"aria-labelledby":"set cts",onChange:this.handleCTSSliderChange}))),s.a.createElement(S.a,{item:!0,xs:12,sm:5},s.a.createElement(C.a,null,s.a.createElement("p",null,s.a.createElement("a",{href:"#",onClick:function(){e.set_cts+=10,e.postCts()}},"Set Course")))))}}]),t}(n.Component),y=a(71),_=a.n(y),j=a(70),T=a.n(j),k=a(72),O=a.n(k),A=a(33),I=a.n(A),w=a(69),M=a.n(w);function x(e){return s.a.createElement(M.a,{component:"div",style:{padding:24}},e.children)}var B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t){a.setState({value:t})},a.state={value:0},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.value;return s.a.createElement("div",null,s.a.createElement(T.a,{position:"static"},s.a.createElement(_.a,null,"Navigation Dashboard  NavDash v0.5"),s.a.createElement(O.a,{value:e,onChange:this.handleChange},s.a.createElement(I.a,{label:"Compass Heading / Auto-Helm CTS"}),s.a.createElement(I.a,{label:"Auto-helm Settings"}),s.a.createElement(I.a,{label:"Item Three"}))),0===e&&s.a.createElement(x,null,s.a.createElement(b,null)),1===e&&s.a.createElement(x,null,"Item Two"),2===e&&s.a.createElement(x,null,"Item Three"))}}]),t}(n.Component);a(187);i.a.render(s.a.createElement(B,null),document.getElementById("root"))},62:function(e,t,a){e.exports=a.p+"static/media/compass_rose.4794f22a.svg"},74:function(e,t,a){e.exports=a(188)},79:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.1605ee7d.chunk.js.map