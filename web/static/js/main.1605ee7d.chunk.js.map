{"version":3,"sources":["Helm.js","App.js","index.js","media/compass_rose.svg"],"names":["SteeringCompass","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleCTSSliderChange","event","cts_slider_value","console","log","setState","conditionSetCTS","postCts","state","error","isLoaded","isDialogOpen","cts","heading","rose","set_cts","displayed","_this2","fetch","then","response","json","result","course","_this3","method","headers","Accept","Content-Type","body","JSON","stringify","heading_svg","document","getElementById","setAttribute","heading_course","heading_rose","_this4","setInterval","getCompass","value","Math","round","_this5","updateSVGCompass","_this$state","react_default","a","createElement","Grid_default","container","spacing","item","xs","sm","Paper_default","className","react_svg","src","compass_rose","href","onClick","setCTS","Slider_default","aria-labelledby","onChange","Component","TabContainer","Typography_default","component","style","padding","children","App","handleChange","AppBar_default","position","Toolbar_default","Tabs_default","Tab_default","label","Helm","ReactDOM","render","src_App","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.1605ee7d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport compass_rose from './media/compass_rose.svg';\nimport ReactSVG from 'react-svg';\nimport Slider from '@material-ui/lab/Slider';\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\n\n\nclass SteeringCompass extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            isDialogOpen: false,\n            cts: 0,\n            heading: 0,\n            rose: 0,\n            cts_slider_value: 50,\n\n        };\n        this.set_cts = 0;\n        this.displayed = {\n            rose: -1,\n            cts: -1,\n            heading: -1,\n        }\n    }\n\n    getCompass(){\n        fetch(\"http://localhost:8079/compass\")\n            .then(response => response.json())\n            .then(\n                (result) => {\n                    this.setState({\n                        isLoaded: true,\n                        cts: result.course.cts,\n                        heading: result.course.heading,\n                    });\n                },\n                // Note: it's important to handle errors here\n                // instead of a catch() block so that we don't swallow\n                // exceptions from actual bugs in components.\n                (error) => {\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n\n                }\n            );\n    }\n\n    postCts(){\n        fetch('http://localhost:8079/compass', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                \"course\": {\"cts\": this.set_cts}\n                })\n        }).then(result=>result.json())\n            .then(result => {\n                    this.setState({\n                        isLoaded: true,\n                        cts: result.course.cts,\n                        heading: result.course.heading,\n                    });\n                },\n            );\n\n    }\n\n    updateSVGCompass(){\n        console.log(this.state.cts, this.displayed.cts);\n        if (this.state.heading !== this.displayed.heading) {\n            // $('#headingDisplay').val(this.heading);\n            const heading_svg = document.getElementById('compass_heading');\n            if (heading_svg) {\n                console.log(heading_svg);\n                heading_svg.setAttribute(\"transform\", \"rotate(\" + this.state.heading + \")\");\n                heading_svg.setAttribute(\"transform-origin\", \"50% 50%\");\n                this.displayed.heading = this.state.heading\n                }\n        }\n        if (this.set_cts !== this.displayed.cts){\n            const heading_course = document.getElementById('compass_course');\n            if(heading_course){\n                console.log(heading_course);\n                heading_course.setAttribute(\"transform\", \"rotate(\" + this.set_cts  + \")\");\n                heading_course.setAttribute(\"transform-origin\", \"50% 50%\");\n                this.displayed.cts = this.state.cts\n            }\n        }\n        if (this.state.rose !== this.displayed.rose){\n            const heading_rose = document.getElementById('compass_rose');\n            if(heading_rose) {\n                console.log(heading_rose);\n                heading_rose.setAttribute(\"transform\", \"rotate(\" + this.state.rose + \")\");\n                heading_rose.setAttribute(\"transform-origin\", \"50% 50%\");\n                this.displayed.rose = this.state.rose\n            }\n        }\n    }\n\n    componentDidMount() {\n        setInterval(() => {\n            this.getCompass();\n        }, 1000);\n    }\n\n    conditionSetCTS(value){\n        if(value < 0){\n            value = 360 + value;\n        }\n        if (value > 360){\n            value -= 360\n        }\n        this.set_cts = Math.round(value);\n    }\n\n    setCTS(value){\n        this.conditionSetCTS(value);\n        let  cts_slider_value = Math.round(this.set_cts/3.6 + 50);\n        if(cts_slider_value < 0){\n            cts_slider_value = 100 + cts_slider_value;\n        }\n        if(cts_slider_value > 100){\n            cts_slider_value -= 100;\n        }\n        this.setState({ cts_slider_value });\n    }\n\n    handleCTSSliderChange = (event, cts_slider_value) => {\n        console.log(cts_slider_value);\n        this.setState({ cts_slider_value });\n        this.conditionSetCTS((cts_slider_value-50) * 3.6);\n        this.postCts();\n    };\n\n    render() {\n        this.updateSVGCompass();\n        const { cts_slider_value, cts } = this.state;\n        let { heading } = this.state;\n        heading = Math.round(heading);\n    return (\n        <Grid container spacing={24}>\n            <Grid item xs={12} sm={7}>\n                <Paper className=\"App-Compass\">\n                        <ReactSVG src={compass_rose} />\n                </Paper>\n                <paper>\n                <h3>Heading <b>{heading}</b> M &nbsp;&nbsp; &nbsp;CTS <b>{cts}</b> M</h3>\n                    <h4>Set Course to Steer &nbsp;&nbsp;&nbsp; <a href=\"#\"  onClick={\n                        ()=>{\n                            //this.set_cts = parseInt($(\"#sliderOutputCourse\").val(), 10);\n                            this.setCTS( this.set_cts - 5);\n                            this.postCts();\n                        }\n                    }>-5</a>&nbsp;&nbsp;&nbsp; <a href=\"#\"  onClick={\n                        ()=>{\n                            //this.set_cts = parseInt($(\"#sliderOutputCourse\").val(), 10);\n                            this.setCTS( this.set_cts + 5);\n                            this.postCts();\n                        }\n                    }>+5</a>&nbsp;&nbsp;&nbsp;or use slider:\n                    </h4>\n\n                    <Slider\n                        value={cts_slider_value}\n                        aria-labelledby=\"set cts\"\n                        onChange={this.handleCTSSliderChange}\n                    />\n\n\n\n\n                </paper>\n            </Grid>\n\n            <Grid item xs={12} sm={5}>\n                <Paper>\n\n                    <p>\n                    <a href=\"#\"  onClick={\n                        ()=>{\n                            //this.set_cts = parseInt($(\"#sliderOutputCourse\").val(), 10);\n                            this.set_cts += 10;\n                            this.postCts();\n                        }\n                    }>Set Course</a></p>\n                </Paper>\n            </Grid>\n        </Grid>\n\n    );\n  }\n}\n\nexport default SteeringCompass;\n","import React, { Component } from 'react';\nimport \"./css/App.css\";\nimport \"what-input\";\nimport SteeringCompass from './Helm';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\n\nfunction TabContainer(props) {\n    return (\n        <Typography component=\"div\" style={{ padding: 8 * 3 }}>\n            {props.children}\n        </Typography>\n    );\n}\n\nTabContainer.propTypes = {\n    children: PropTypes.node.isRequired,\n};\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper,\n    },\n    paper: {\n        padding: theme.spacing.unit * 2,\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n    },\n});\n\n\nclass App  extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: 0,\n        };\n    }\n\n    handleChange = (event, value) => {\n        this.setState({ value });\n    };\n\n\n    render() {\n        const { value } = this.state;\n        return (\n            <div>\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        Navigation Dashboard  NavDash v0.5\n                    </Toolbar>\n\n                    <Tabs value={value} onChange={this.handleChange}>\n                        <Tab label=\"Compass Heading / Auto-Helm CTS\" />\n                        <Tab label=\"Auto-helm Settings\" />\n                        <Tab label=\"Item Three\" />\n                    </Tabs>\n                </AppBar>\n                {value === 0 && <TabContainer><SteeringCompass /></TabContainer>}\n                {value === 1 && <TabContainer>Item Two</TabContainer>}\n                {value === 2 && <TabContainer>Item Three</TabContainer>}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/compass_rose.4794f22a.svg\";"],"sourceRoot":""}